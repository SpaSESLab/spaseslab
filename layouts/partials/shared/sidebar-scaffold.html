{{ $page := . }}                       <!--save current page-->
{{ $section := $page.CurrentSection }} <!--save current section-->
{{ $is_root := eq .CurrentSection .FirstSection }}

{{ partial "shared/sidebar/sidebar-image.html" $page }}

<div class="blog-info ph4 pt4 pb4 pb0-l">
  {{ partial "shared/sidebar/sidebar-header.html" $section }}
  {{ partial "shared/sidebar/sidebar-link.html" .Params.sidebar }}
</div>

{{ $catMap := dict }}
{{ range where .Site.RegularPages "Section" "blog" }}
  {{ $page := . }}
  {{ range .Params.categories }}
    {{ $catName := . }}
    {{ $pages := slice }}
    {{ if index $catMap $catName }}
      {{ $pages = index $catMap $catName }}
    {{ end }}
    {{ $pages = $pages | append $page }}
    {{ $catMap = merge $catMap (dict $catName $pages) }}
  {{ end }}
{{ end }}

<section class="sidebar-widget">
  <h3 class="f19 fw6 near-white">Categories</h3>
  <div class="tag-cloud">
    {{ range $cat, $pages := $catMap }}
      {{ $size := (add 0.5 (mul 0.1 (len $pages))) | printf "%.1f" }}
      <a href="{{ "/categories/" | relLangURL }}{{ $cat | urlize }}"
         style="font-size: {{ $size }}rem"
         class="link dim light-blue dib mr2 mb2">
        {{ $cat }}
      </a>
    {{ end }}
  </div>
</section>

<div style="display: flex; justify-content: right;">
  <div style="max-width: 500px; width: 80%;">
<style>
    .followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview {
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
  margin-top: 2px !important;
  padding: clamp(10px, 2%, 20px) clamp(12px, 5%, 15px) !important;
  max-width: 75% !important;
  border-radius: 6px !important;
  box-shadow: 0 5px 25px rgba(34, 60, 47, 0.25) !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview,
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview *{
  box-sizing: border-box !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-heading {
  width: 80% !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-heading h5{
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-input-field {
  margin-top: 3px !important;
  width: 100% !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-input-field input {
  width: 100% !important;
  height: 20px !important;
  border-radius: 6px !important;
  border: 2px solid #e9e8e8 !important;
  background-color: #fff;
  outline: none !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-input-field input {
  color: #fff !important;
  font-family: "Montserrat" !important;
  font-size: 14px;
  font-weight: 400;
  line-height: 20px;
  text-align: center;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-input-field input::placeholder {
  color: #000000 !important;
  opacity: 1 !important;
}

.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-input-field input:-ms-input-placeholder {
  color: #000000 !important;
}

.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-input-field input::-ms-input-placeholder {
  color: #000000 !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-submit-button {
  margin-top: 3px !important;
  width: 100% !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-submit-button button {
  width: 100% !important;
  height: 40px !important;
  border: 0 !important;
  border-radius: 6px !important;
  line-height: 0px !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .form-preview .preview-submit-button button:hover {
  cursor: pointer !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .powered-by-line {
  color: #fff !important;
  font-family: "Montserrat" !important;
  font-size: 10px !important;
  font-weight: 400 !important;
  line-height: 25px !important;
  text-align: center !important;
  text-decoration: none !important;
  display: flex !important;
  width: 100% !important;
  justify-content: center !important;
  align-items: center !important;
  margin-top: 5px !important;
}
.followit--follow-form-container[attr-a][attr-b][attr-c][attr-d][attr-e][attr-f] .powered-by-line img {
  margin-left: 10px !important;
  height: 1.13em !important;
  max-height: 1.13em !important;
}

  </style>
  <div class="followit--follow-form-container" attr-a attr-b attr-c attr-d attr-e attr-f>
    <form data-v-8541cdc9="" action="https://api.follow.it/subscription-form/MTZlU2dkUG5EOTBBa0xRVzJ2WWl4VlhPUEl2RVNvYXBsUGt6cTVPZE05UU1GN0RZaUw2eVZ5N0VjTnlJak5IWDR4MDRoVmJSMTdVZnhvK2ZEczhjQVI4eUVwMFNUZDVxMWEzT2pqUWZQTUd3Y2kzVlJhdzhiMWdRWDAwR2dUdll8UUgrdnpXWFQ3Y1hxa0pZcHBkelVCQ3dpa1Uvc051Zi9IMFhJR2IvRFMzZz0=/8" method="post"><div data-v-8541cdc9="" class="form-preview" style="background-color: rgb(255, 255, 255); position: relative; border-style: solid; border-width: 2px; border-color: rgb(255, 255, 255);"><div data-v-8541cdc9="" class="preview-heading"><h5 data-v-8541cdc9="" style="font-family: Helvetica; font-weight: bold; color: rgb(46, 111, 64); font-size: 16px; text-align: center; text-transform: none !important;">Follow SPASESLab via email</h5></div><div data-v-8541cdc9="" class="preview-input-field"><input data-v-8541cdc9="" type="email" name="email" required="" placeholder="Enter your email" spellcheck="false" style="font-family: Helvetica; font-weight: normal; color: rgb(0, 0, 0); font-size: 14px; text-align: center; background-color: rgb(255, 255, 255); text-transform: none !important;"></div><div data-v-8541cdc9="" class="preview-submit-button"><button data-v-8541cdc9="" type="submit" style="font-family: Arial; font-weight: bold; color: rgb(255, 255, 255); font-size: 16px; text-align: center; background-color: rgb(46, 111, 64); text-transform: none !important;">Subscribe</button></div></div></form><a href="https://follow.it" class="powered-by-line">Powered by <img src="https://follow.it/images/colored-logo.svg" alt="follow.it" height="17px"/></a>
  </div>
</div>
</div>
{{ partial "shared/sidebar/sidebar-adunit.html" .Params.sidebar }}